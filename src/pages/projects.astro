---
import Layout from "../layouts/Layout.astro";
import ProjectCard from "../components/ProjectCard.astro";
import { getCollection } from "astro:content";

const allProjects = await getCollection("projects");
---

<Layout title="Projects">
  <div class="mb-12 relative">
    <div class="font-mono text-xs text-gray-600 mb-2 tracking-widest">
      [DIR: <a
        href="/"
        class="hover:text-accent transition-colors border-b border-transparent hover:border-accent"
        >ROOT</a
      >/<span class="text-accent">PROJECTS</span>]
    </div>

    <h1
      class="text-4xl sm:text-5xl font-black uppercase tracking-widest text-gray-100 font-mono mb-4"
    >
      Projects
    </h1>

    <p class="text-gray-400 font-mono max-w-xl leading-relaxed text-sm">
      // A collection of deployed applications, experiments, and open source
      modules.
    </p>
  </div>

  <div class="flex flex-col gap-6 lg:grid lg:grid-cols-2 lg:gap-8">
    {
      allProjects.map((project) => (
        <ProjectCard
          title={project.data.title}
          desc={project.data.description}
          image={project.data.image}
          link={`/projects/${project.slug}`}
        />
      ))
    }
  </div>

  <div class="mt-16 border-t border-white/5 pt-2 flex justify-end">
    <span class="text-[10px] font-mono text-gray-400 tracking-widest"
      >TOTAL_ENTRIES: {allProjects.length}</span
    >
  </div>
</Layout>
